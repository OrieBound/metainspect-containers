<!doctype html>
<html data-theme="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MetaInspect - Containers | Result</title>
    <script>
      (function () {
        try {
          var t = localStorage.getItem('metainspect-containers-theme');
          document.documentElement.setAttribute('data-theme', t === 'light' ? 'light' : 'dark');
        } catch (e) {}
      })();
    </script>
    <link rel="icon" type="image/png" href="/static/favicon.png">
    <link rel="stylesheet" href="/static/css/style.css">
  </head>
  <body>
    <div class="container">
      <header class="site-header">
        <button id="themeToggle" class="theme-toggle" type="button" role="switch" aria-checked="false" aria-label="Switch to light theme" title="Toggle theme">
          <span class="theme-toggle-track" aria-hidden="true">
            <span class="theme-toggle-icon theme-toggle-icon-light">☀</span>
            <span class="theme-toggle-icon theme-toggle-icon-dark">☾</span>
            <span class="theme-toggle-thumb"></span>
          </span>
        </button>
        <h1>MetaInspect - Containers</h1>
        <p class="tagline">Metadata result</p>
      </header>

      <main>
        <section class="card">
          <div class="card-actions-top">
            <a class="link back-link" href="/">← Go Back</a>
          </div>
          <h2>Result</h2>
          <pre id="resultJson" class="result-json">{{ result | tojson(indent=2) }}</pre>
          <p><a class="link back-link" href="/">← Go Back</a></p>

          <button id="copyBtn" class="copy-btn" title="Copy JSON to clipboard">Copy</button>

          <script>
            (function(){
              const btn = document.getElementById('copyBtn');
              const pre = document.getElementById('resultJson');
              if (!btn || !pre) return;

              function fallbackCopy(text) {
                const ta = document.createElement('textarea');
                ta.value = text;
                document.body.appendChild(ta);
                ta.focus();
                ta.select();
                try { document.execCommand('copy'); } catch(e) {}
                document.body.removeChild(ta);
              }

              btn.addEventListener('click', async function(){
                const text = pre.innerText || pre.textContent || '';
                try {
                  if (navigator.clipboard && navigator.clipboard.writeText) {
                    await navigator.clipboard.writeText(text);
                  } else {
                    fallbackCopy(text);
                  }
                  const old = btn.innerText;
                  btn.innerText = 'Copied!';
                  setTimeout(()=> btn.innerText = old, 1500);
                } catch (err) {
                  fallbackCopy(text);
                }
              });

              const root = document.documentElement;
              const themeBtn = document.getElementById('themeToggle');
              if (themeBtn) {
                function applyTheme(theme) {
                  root.setAttribute('data-theme', theme);
                  const isDark = theme !== 'light';
                  themeBtn.setAttribute('aria-checked', isDark ? 'false' : 'true');
                  themeBtn.setAttribute('aria-label', isDark ? 'Switch to light theme' : 'Switch to dark theme');
                  themeBtn.setAttribute('title', isDark ? 'Light mode' : 'Dark mode');
                }

                const initial = root.getAttribute('data-theme') || 'dark';
                applyTheme(initial);

                themeBtn.addEventListener('click', function () {
                  const current = root.getAttribute('data-theme') || 'dark';
                  const next = current === 'light' ? 'dark' : 'light';
                  applyTheme(next);
                  try {
                    localStorage.setItem('metainspect-containers-theme', next);
                  } catch (e) {}
                });
              }
            })();
          </script>
        </section>
      </main>

      <footer class="site-footer">
        <small>MetaInspect - Containers</small>
        <nav class="footer-links" aria-label="External links">
          <a href="https://www.oriehulan.com" target="_blank" rel="noopener noreferrer" aria-label="Website">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path d="M12 2a10 10 0 1 0 10 10A10.01 10.01 0 0 0 12 2Zm6.94 9h-3.02a15.8 15.8 0 0 0-1.33-5.02A8.02 8.02 0 0 1 18.94 11Zm-6.94 9c-.89 0-2.36-2.32-2.91-6h5.82c-.55 3.68-2.02 6-2.91 6Zm-3.2-8a22.8 22.8 0 0 1 .11-2h6.18a22.8 22.8 0 0 1 .11 2 22.8 22.8 0 0 1-.11 2H8.91a22.8 22.8 0 0 1-.11-2Zm-4.74 0a8.02 8.02 0 0 1 4.35-5.02A15.8 15.8 0 0 0 7.08 11Zm0 2h3.02a15.8 15.8 0 0 0 1.33 5.02A8.02 8.02 0 0 1 4.06 14Zm9.53 5.02A15.8 15.8 0 0 0 15.92 14h3.02a8.02 8.02 0 0 1-5.35 5.02ZM14.91 8H9.09C9.64 4.32 11.11 2 12 2s2.36 2.32 2.91 6Z"/>
            </svg>
            <span>Website</span>
          </a>
          <a href="https://github.com/OrieBound/" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path d="M12 .5A12 12 0 0 0 8.2 23.9c.6.1.8-.2.8-.6v-2c-3.3.7-4-1.4-4-1.4-.5-1.3-1.2-1.6-1.2-1.6-1-.7.1-.7.1-.7 1 .1 1.7 1.1 1.7 1.1 1 .1 1.9-.7 2.3-1.1.1-.7.4-1.1.7-1.4-2.7-.3-5.6-1.4-5.6-6.2 0-1.4.5-2.5 1.2-3.4-.1-.3-.5-1.6.1-3.3 0 0 1-.3 3.5 1.3a11.8 11.8 0 0 1 6.4 0c2.5-1.6 3.5-1.3 3.5-1.3.6 1.7.2 3 .1 3.3.8.9 1.2 2 1.2 3.4 0 4.8-2.9 5.9-5.6 6.2.4.3.8 1 .8 2.1v3.1c0 .3.2.7.8.6A12 12 0 0 0 12 .5Z"/>
            </svg>
            <span>GitHub</span>
          </a>
        </nav>
      </footer>
    </div>
  </body>
</html>
